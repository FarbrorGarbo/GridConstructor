(this.webpackJsonpgridconstructor=this.webpackJsonpgridconstructor||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(3),o=n.n(r),s=(n(11),n(1)),c=n(4),l=n(5),u=new(function(){function e(){Object(c.a)(this,e),this._settings=void 0,this._degrees_to_radians=function(e){return e*(Math.PI/180)},this._settings=this._getInitialSettings()}return Object(l.a)(e,[{key:"_getInitialSettings",value:function(){return{rotation:0,elevation:0,distance:1e3,picturePlane:1e3,offsetH:500,offsetV:500}}},{key:"project",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._settings,t=arguments.length>1?arguments[1]:void 0,n=this._degrees_to_radians(e.rotation),a=this._degrees_to_radians(e.elevation),i=t.x*Math.sin(n)+t.y*Math.cos(n),r=t.x*Math.cos(n)-t.y*Math.sin(n),o=i*Math.cos(a)-t.z*Math.sin(a),s=i*Math.sin(a)+t.z*Math.cos(a),c=e.picturePlane*r/(e.distance+o)+e.offsetH,l=e.picturePlane*s/(e.distance+o)+e.offsetV;return{h:c,v:l}}}]),e}()),h=function(e){var t=e.settings,n=i.a.useRef(null),a=i.a.useState({width:window.innerWidth,height:window.innerHeight}),r=Object(s.a)(a,2),o=r[0],c=r[1];return i.a.useEffect((function(){var e=n.current;if(e){e.width=o.width,e.height=o.height;var a=e.getContext("2d");if(a){a.clearRect(0,0,e.width,e.height),a.strokeStyle="#f00";[[{x:0,y:0,z:0},{x:500,y:0,z:0}],[{x:480,y:0,z:5},{x:500,y:0,z:0}]].forEach((function(n){var i=u.project(t,n[0]),r=u.project(t,n[1]);a.beginPath(),a.moveTo(i.h,e.height-i.v),a.lineTo(r.h,e.height-r.v),a.lineTo(r.h,e.height-r.v),a.stroke()})),a.strokeStyle="#0f0";[[{x:0,y:0,z:0},{x:0,y:500,z:0}],[{x:5,y:480,z:0},{x:0,y:500,z:0}]].forEach((function(n){var i=u.project(t,n[0]),r=u.project(t,n[1]);a.beginPath(),a.moveTo(i.h,e.height-i.v),a.lineTo(r.h,e.height-r.v),a.lineTo(r.h,e.height-r.v),a.stroke()})),a.strokeStyle="#00f";[[{x:0,y:0,z:0},{x:0,y:0,z:500}],[{x:5,y:0,z:480},{x:0,y:0,z:500}]].forEach((function(n){var i=u.project(t,n[0]),r=u.project(t,n[1]);a.beginPath(),a.moveTo(i.h,e.height-i.v),a.lineTo(r.h,e.height-r.v),a.lineTo(r.h,e.height-r.v),a.stroke()})),a.strokeStyle="#aaa",a.beginPath();[[{x:-200,y:-200,z:-200},{x:200,y:-200,z:-200}],[{x:-200,y:200,z:-200},{x:200,y:200,z:-200}],[{x:-200,y:-200,z:200},{x:200,y:-200,z:200}],[{x:-200,y:200,z:200},{x:200,y:200,z:200}],[{x:-200,y:-200,z:-200},{x:-200,y:-200,z:200}],[{x:200,y:-200,z:-200},{x:200,y:-200,z:200}],[{x:200,y:200,z:-200},{x:200,y:200,z:200}],[{x:-200,y:200,z:-200},{x:-200,y:200,z:200}],[{x:-200,y:-200,z:200},{x:-200,y:200,z:200}],[{x:200,y:-200,z:200},{x:200,y:200,z:200}],[{x:-200,y:-200,z:-200},{x:-200,y:200,z:-200}],[{x:200,y:-200,z:-200},{x:200,y:200,z:-200}]].forEach((function(n){var i=u.project(t,n[0]),r=u.project(t,n[1]);a.moveTo(i.h,e.height-i.v),a.lineTo(r.h,e.height-r.v)})),a.stroke()}}var i=function(){c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[t,o]),i.a.createElement("canvas",{className:"canvas",ref:n})},f=(n(12),function(e){var t=i.a.useRef(null),n=i.a.useState(e.value),a=Object(s.a)(n,2),r=a[0],o=a[1],c=e.returnValue;return i.a.useEffect((function(){c(r)}),[c,r]),i.a.createElement("label",null,e.label,":",i.a.createElement("input",{ref:t,type:"number",min:e.min,max:e.max,step:e.step,onChange:function(){return function(){var n=parseInt(""===t.current.value?"0":t.current.value);n<e.min?n=e.min:n>e.max&&(n=e.max),o(n)}()},value:r.toString()}))}),v=function(){var e=function(e){var t=localStorage.getItem("grid");return t?JSON.parse(t):e}({rotation:0,elevation:0,distance:1e3,picturePlane:1e3,offsetH:Math.floor(window.innerWidth/2),offsetV:Math.floor(window.innerHeight/2)}),t=i.a.useState(!1),n=Object(s.a)(t,2),a=n[0],r=n[1];var o=i.a.useState(e.rotation),c=Object(s.a)(o,2),l=c[0],u=c[1],v=i.a.useState(e.elevation),g=Object(s.a)(v,2),m=g[0],x=g[1],y=i.a.useState(e.distance),d=Object(s.a)(y,2),z=d[0],p=d[1],b=i.a.useState(e.picturePlane),E=Object(s.a)(b,2),w=E[0],S=E[1],j=i.a.useState(e.offsetH),k=Object(s.a)(j,2),O=k[0],P=k[1],V=i.a.useState(e.offsetV),_=Object(s.a)(V,2),M=_[0],T=_[1];return i.a.useEffect((function(){localStorage.setItem("grid",JSON.stringify({rotation:l,elevation:m,distance:z,picturePlane:w,offsetH:O,offsetV:M}))}),[l,m,z,w,O,M]),i.a.createElement("div",{className:"App"},i.a.createElement(h,{settings:{rotation:l,elevation:m,distance:z,picturePlane:w,offsetH:O,offsetV:M}}),i.a.createElement("div",{className:"menu"},i.a.createElement("button",{onClick:function(e){e.preventDefault(),r(!a)}},a?"Back":"Settings")),a&&i.a.createElement("div",{className:"settings"},i.a.createElement("h2",null,"Perspektive Settings"),i.a.createElement(f,{label:"Rotation",min:0,max:359,step:5,value:l,returnValue:function(e){u(e)}}),i.a.createElement(f,{label:"Elevation",min:0,max:90,step:5,value:m,returnValue:function(e){x(e)}}),i.a.createElement(f,{label:"Distance",min:0,max:999999,step:50,value:z,returnValue:function(e){p(e)}}),i.a.createElement(f,{label:"Distance to Picture Plane",min:0,max:999999,step:50,value:w,returnValue:function(e){S(e)}}),i.a.createElement(f,{label:"Offset Horisontal",min:0,max:999999,step:5,value:O,returnValue:function(e){P(e)}}),i.a.createElement(f,{label:"Offset Vertical",min:0,max:999999,step:5,value:M,returnValue:function(e){T(e)}})))};o.a.render(i.a.createElement(v,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.3bcb9c6c.chunk.js.map